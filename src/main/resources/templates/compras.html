<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Listado de empleados</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/menu.css">
	<link rel="stylesheet" href="../css/tablas.css">
    <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"/>
</head>

<body>
	
	<header th:replace="index::header"></header>
	
	<main >
		<div class="container">
			
			<div class="titulos">
				<div th:if="${#httpServletRequest.requestURI == '/compra/buscar'}">
					<a class="btn btn-warning btn-sm" th:href="@{/compra}"><i class='bx bx-arrow-back btn-warning' ></i></a>
				</div>
				<h1 class="text-center" th:text="${titulo}"></h1>
			</div>
			
			
			<div class="agregar">
				
				<div class="buscar">
					<form action="/compra/buscar" method="GET">
				        <input type="text" id="codigoProveedor" name="codigoProveedor" 
				        th:value="${param.codigoProveedor}" placeholder="CÃ³digo ">
				
				      
				        <button type="submit">Buscar</button>
				    </form>
				</div>
				
				<a th:href="@{/comprar/}" title="Crear nuevo registro">
		        <i class='bx bxs-plus-circle active'></i>
		      	</a>
	      	</div>
      <hr>
		
		<table class="table table-striped table-bordered table-dark">
			<thead class="table-dark">
				<tr>
					<th>CODIGO</th>
					<th>FECHA</th>
					<th>PRODUCTOS</th>
					<th>TOTAL</th>
					<th>PROVEEDOR</th>
					<th>EMPLEADO</th>

				</tr>
			</thead>

			<tbody class="table table-striped table-bordered table-dark text-center">
				<tr th:each="compra : ${compras}">
					<td><a class="btn btn-success" 
					href="#"
					th:text="${compra.COD_COMPRA}"></td>
					<td th:text="${compra.FECHA}"></td>
					<td>
						<table class="table table-bordered">
							<thead>
								<tr class="text-center">
									<th>Codigo</th>
									<th>Descripcion</th>
									<th>Precio</th>
									<th>Cantidad</th>
								</tr>
							</thead>
							
							<tbody  class="text-center">
								<tr th:each="producto : ${compra.productos}">
									<td th:text="${producto.codigo}"></td>
									<td th:text="${producto.DESCRIPCION}"></td>
									<td th:text="${producto.precio}"></td>
									<td th:text="${producto.cantidad}"></td>
								</tr>
							</tbody>
						</table>
					</td>
							
										<td th:text="${compra.IMPORTE_TOTAL}"></td>
										<td th:text="${compra.COD_PROVEEDOR.NOMBRE}"></td>
										<td th:text="${compra.COD_EMPLEADO.NOMBRE}"></td>
										
		
                  	
                	</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
	</main>
	
	<script src="./js/menu.js"></script>
</body>
</html>