<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Listado de empleados</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/menu.css">
	<link rel="stylesheet" href="../css/tablas.css">
    <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"/>
</head>

<body>
	
	<header th:replace="index::header"></header>
	
	<main >
	<div class="container">
		
		<div class="titulos">
			<div th:if="${#httpServletRequest.requestURI == '/empleado/buscar'}">
				<a class="btn btn-warning btn-sm" th:href="@{/empleado}"><i class='bx bx-arrow-back btn-warning' ></i></a>
			</div>
			<h1 class="text-center" th:text="${titulo}"></h1>
		</div>
		<div class="agregar">
			<!-- Formulario de búsqueda -->
			<div class="buscar">
				<form th:action="@{/empleado/buscar}" method="get">
				    <input type="text" name="codigoDNIoNombre" placeholder="Código, DNI o Nombre">
				    <select name="codigoDistrito">
				        <option value="" disabled selected>Selecciona el Distrito</option>
				        <option th:each="distrito : ${distritos}" 
				            th:value="${distrito.COD_DISTRITO}" 
				            th:text="${distrito.NOMBRE}"></option>
				    </select>
				    <button type="submit" class="circular-button"><i class='bx bx-search'></i></button>
				</form>
			</div>
			
			<a th:href="@{/empleado/registrar}" >
				<i class='bx bxs-plus-circle active'></i></a>
      		</a>
      		
      		
      	</div>
		
	    
		
		
		
      	<hr>
      	
		<table class="table table-striped table-bordered table-dark">
			<thead class="table-dark">
				<tr>
					<th>CODIGO</th>
					<th>DNI</th>
					<th>NOMBRE</th>
					<th>TELEFONO</th>
					<th>DIRECCION</th>
					<th>EMAIL</th>
					<th>DISTRITO</th>
					<th>ACCIONES</th>

				</tr>
			</thead>
			<tbody class="table table-striped table-bordered table-dark text-center">
				
				<tr th:each="empleado : ${empleados}">
					<td><a class="btn btn-success"
						th:href="@{/empleado}+@{detalle/}+${empleado.COD_EMPLEADO}"
						th:text="${empleado.COD_EMPLEADO}">CODIGO</a></td>
					<td th:text="${empleado.DNI}">DNI</td>
					<td th:text="${empleado.NOMBRE}">NOMBRE</td>
					<td th:text="${empleado.TELEFONO}">TELEFONO</td>
					<td th:text="${empleado.DIRECCION}">DIRECCION</td>
					<td th:text="${empleado.EMAIL}">EMAIL</td>
					<td th:text="${empleado.COD_DISTRITO.NOMBRE}">DISTRITO</td>
					
					<td class="acciones">
						
                  		<a class="btn btn-success btn-sm" th:href="@{/empleado/editar/}+${empleado.COD_EMPLEADO}">
                    		<span title="Editar Registro de Empleado"></span><i class='bx bxs-pencil'></i>
                  		</a>
                  		<a class="btn btn-danger btn-sm" th:href="@{/empleado/eliminar/}+${empleado.COD_EMPLEADO}" onclick="return confirm('Está seguro de querer eliminar el registro')">
                    		<span  title="Eliminar Registro"></span>
                    		<i class='bx bxs-trash'></i>
                  		</a>
                	</td>
                	
                	
			</tbody>
		</table>
	</div>
	</main>
	<script src="./js/menu.js"></script>
</body>
</html>