<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Listado de empleados</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="./css/menu.css">
	<link rel="stylesheet" href="./css/tablas.css">
    <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"/>
</head>

<body>
	
	<header th:replace="index::header"></header>
	
	<main >
	
	<div class="container">
			<div class="agregar">
				<h1 th:text="${titulo}"></h1>
				<a th:href="@{/vender/}" title="Crear nuevo registro">
		        <i class='bx bxs-plus-circle active'></i>
		      	</a>
	      	</div>
	      	<br>
	      	<a  th:href="@{/exportarPDF}"
                        class="btn btn-secondary">Exportar a PDF</a>
      <hr>
		
		<table class="table table-striped table-bordered table-dark">
			<thead class="table-dark">
				<tr>
					<th>CODIGO</th>
					<th>FECHA</th>
					<th>PRODUCTOS</th>
					<th>TOTAL</th>
					<th>CLIENTE</th>
					<th>EMPLEADO</th>
					<th>METODO</th>
					<th>REPORTE</th>
				</tr>
			</thead>
			<tbody class="table table-striped table-bordered table-dark text-center">
				<tr th:each="venta : ${ventas}">
					<td><button class="btn btn-success" th:text="${venta.COD_VENTA}" type="submit"></button></td>
					<td th:text="${venta.FECHA}"></td>
					<td>
						<table class="table table-bordered">
							<thead>
								<tr class="text-center">
								<!--	<th>Codigo</th>-->
									<th>Descripcion</th>
									<th>Venta</th>
									<th>Cantidad</th>
								</tr>
							</thead>
							<tbody  class="text-center">
								<tr th:each="producto : ${venta.productos}">
								<!--	<td th:text="${producto.codigo}"></td>-->
									<td th:text="${producto.DESCRIPCION}"></td>
									<td th:text="${producto.precio}"></td>
									<td th:text="${producto.cantidad}"></td>
								</tr>
							</tbody>
						</table>
					</td>
										<td th:text="${venta.IMPORTE_TOTAL}"></td>
										<td th:text="${venta.COD_EMPLEADO.NOMBRE}"></td>
										<td th:text="${venta.COD_CLIENTE.NOMBRE}"></td>
										<td th:text="${venta.COD_METODO_PAGO.NOMBRE}"></td>
										<td>
											<a class="btn btn-primary"
			                               	th:href="@{/reporte/generateReport/{ventaId}(ventaId=${venta.COD_VENTA})}">
			                               	<i class='bx bxs-report'></i></a>
			                            </td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>						
	</main>
	
	<script src="./js/menu.js"></script>
</body>
</html>